<div class="panel panel-primary">
    <div class="panel-heading">
        {{pageTitle}}
    </div>

    <div class="panel-body">
        <form class="form-horizontal" #form='ngForm' (submit)="save(form)" novalidate>
            <fieldset>
                <div class="form-group" [class.has-error]="drugName.invalid && drugName.touched">
                    <label class="col-md-2 control-label" for="drugNameId">Naziv:</label>
                    <div class="col-md-8">
                        <input #drugName="ngModel" type="text" required  placeholder="Naziv leka" name="drugName" id="drugNameId" [(ngModel)]="drug.name">
                    </div>
                    <div *ngIf="drugName.invalid && drugName.touched" class="alert alert-danger">
                        Naziv je obavezan.
                    </div>
                </div>

                <div class="form-group" [class.has-error]="drugDosage.invalid && drugDosage.touched">
                    <label class="col-md-2 control-label" for="drugDosageId">Doza:</label>
                    <div class="col-md-8">
                        <input #drugDosage="ngModel" type="number" min="0" placeholder="Jačina leka" name="drugDosage" id="drugDosageId" [(ngModel)]="drug.dosage"
                            required>
                    </div>
                    <div *ngIf="drugDosage.invalid && drugDosage.touched" class="alert alert-danger">
                        Doza je obavezana.
                    </div>
                </div>

                <div class="form-group" [class.has-error]="drugPrice.invalid && drugPrice.touched">
                    <label class="col-md-2 control-label" for="drugPriceId">Cena:</label>
                    <div class="col-md-8">
                        <input #drugPrice="ngModel" type="number" min="0" placeholder="Cena leka" name="drugPrice" id="drugPriceId" [(ngModel)]="drug.price"
                            required>
                    </div>
                    <div *ngIf="drugPrice.invalid && drugPrice.touched" class="alert alert-danger">
                        Cena je obavezana.
                    </div>
                </div>

                <div class="form-group" [class.has-error]="hasSelectError1">
                    <label class="col-md-2 control-label" for="drugFormId">Oblik:</label>
                    <div class="col-md-8">
                        <select class="form-control" style='width:200px' name="drugForm" id="drugFormId" [(ngModel)]="drug.drugForm" (blur)="validateSelect1($event)">
                            <option value="default">Izaberi oblik</option>
                            <option *ngFor = "let form of forms">
                                {{form.form}}
                            </option>
                        </select>
                    </div>
                </div>

                <div class="form-group" [class.has-error]="hasSelectError2">
                    <label class="col-md-2 control-label" for="drugInnId">Generički naziv leka:</label>
                    <div class="col-md-8">
                        <select class="form-control" style='width:200px' name="drugInn" id="drugInnId" [(ngModel)]="drug.drugInn" (blur)="validateSelect2($event)">
                                <option value="default">Izaberi inn</option>
                                <option *ngFor = "let inn of inns">
                                    {{inn.inn}}
                                </option>
                            </select>
                    </div>
                </div>

                <div class="form-group" [class.has-error]="hasSelectError3">
                    <label class="col-md-2 control-label" for="drugManId">Proizvođač:</label>
                    <div class="col-md-8">
                        <select class="form-control" name="drugMan" [(ngModel)]="drug.drugManufacturer" style='width:200px' id="drugManId" (blur)="validateSelect3($event)">
                                    <option value="default">Izaberi proizvođača</option>
                                    <option *ngFor = "let man of mans">
                                        {{man.name}}
                                    </option>
                                </select>
                    </div>
                </div>


                <div class="form-group">
                    <div class="col-md-4 col-md-offset-2">
                        <span>
                        <button class="btn btn-primary"
                                type="submit"
                                style="width:80px;margin-right:10px"
                                [disabled]="form.invalid"
                        >
                            Save
                        </button>
                    </span>
                        <span>
                        <button class="btn btn-primary"
                        type="button"
                        style="width:80px;margin-right:10px"
                        [routerLink]="['/drugs']"
                >
                    Cancel
                </button>
                    </span>
                        <span>
                        <button class="btn btn-primary"
                        type="button"
                        style="width:80px;margin-right:10px"
                        (click)="deleteDrug()"
                        [disabled]="id===0"
                >
                    Delete
                </button>
                    </span>
                    </div>
                </div>
            </fieldset>
        </form>
    </div>